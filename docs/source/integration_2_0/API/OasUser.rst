######################################################################
**Получение информации по авторизированному пользователю**
######################################################################

Для работы с этим методом пользователь должен быть `авторизированным <https://wiki.edi-n.com/ru/latest/integration_2_0/API/Authorization.html>`__ .

С помощью метода **api/oas/user** можно получить информацию о пользователе, например ID пользователя, ID аккаунта, логин, имеет ли пользователь "права администратора" (true/false), данные о платформе и другие идентификаторы.

+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------+
|                      **Метод запроса**                      |                                                **HTTP GET**                                                |
+=============================================================+============================================================================================================+
| **Content-Type**                                            | application/json (тело запроса/ответа в json формате в теле HTTP запроса                                   |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------+
| **URL запроса**                                             | https://edo-v2.edi-n.com/api/oas/user                                                                      |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------+
| **Параметры, передаваемые в URL (вместе с адресом метода)** | В строке заголовка (Header) "Set-Cookie" обязательно передается **SID** - токен полученный при авторизации |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------+

.. hint:: Также возможно выполнить запрос в виде curl-строки:
          
        curl -X GET 'https://edo-v2.edi-n.com/api/oas/user' -b 'SID=65daca25-74ba-4c85-8183-71b404a348c0;'

Спецификация для расшифровки ключей curl запроса: https://curl.haxx.se/docs/manpage.html

--------------

**JSON-параметры в теле HTTP запроса/ответа**

--------------

**REQUEST**

--------------

В этом методе json-тело **запроса** отсутствует (другие данные передавать не нужно).

--------------

**RESPONSE**

--------------

Таблица 4 - Описание json-параметров, которые могут передаваться в **ответ** на метод API

.. csv-table:: 
  :file: for_csv/User.csv
  :widths:  1, 19, 41
  :header-rows: 1
  :stub-columns: 1

--------------

**Примеры**

--------------

**Запрос не содержит тела (json)**

--------------

**Пример тела ответа (json):**

.. code:: ruby

    {
      "id": 5020571,
      "accountId": 29824,
      "login": "uaEDSsender",
      "stringEmails": "test@qw.we",
      "emails": [
        "test@qw.we"
      ],
      "blocked": 0,
      "allowFTP": 1,
      "autoSending": true,
      "statusFile": 1,
      "isAdmin": false,
      "account": {
        "platform": "EVO",
        "id": 29824,
        "name": "Test_EDS1",
        "ownership": "#",
        "inn": "1010101010",
        "kpp": "100000001",
        "mail": "test@qw.we",
        "phone": "12345678901",
        "ndsNumber": "#",
        "bankAccount": "#",
        "bankName": "#",
        "bankMfo": "#",
        "bankAddress": "#",
        "identificators": [
          
        ],
        "companies": [
          
        ],
        "users": [
          
        ]
      },
      "identificators": [
        {
          "guid": {
            
          },
          "manager": "#",
          "id": 133187,
          "gln": "9864065702429",
          "companyId": 29824,
          "retailerId": 0,
          "name": "EDS_1",
          "companyType": "jur",
          "companyInn": "1010101010",
          "companyKpp": "90000031",
          "zip": "112233",
          "city": "г. Львов",
          "street": "ул. Хмурится, 6",
          "phone": "#",
          "otherInfo": "[]",
          "account": {
            "platform": "EVO",
            "id": 29824,
            "name": "Test_EDS1",
            "ownership": "#",
            "inn": "1010101010",
            "kpp": "100000001",
            "mail": "test@qw.we",
            "phone": "12345678901",
            "ndsNumber": "#",
            "bankAccount": "#",
            "bankName": "#",
            "bankMfo": "#",
            "bankAddress": "#",
            "identificators": [
              
            ],
            "companies": [
              
            ],
            "users": [
              
            ]
          }
        }
      ]
    } 




