##############
API Справочник
##############

| **Сокращения и условные обозначения:**
| GLN - Global Location Number (глобальный номер местоположения)
| ИНН - Идентификационный номер налогоплательщика
| КПП - Код причины постановки на учет в разных налоговых органах
| GTIN - Global Trade Item Number (штрих-код)

--------------

.. contents:: Содержание:

--------------

Применяемые HTTP-коды ответов сервера с API (intCode):

-  200 — OK
-  400 — Ошибка в параметрах запроса
-  401 — Не авторизован, в запросе отсутствует token
-  403 — Нет доступа к запрашиваемой информации
-  404 — Запрашиваемая информация не найдена
-  500 — Внутренняя ошибка сервера
-  501 — Метод не существует
-  503 — Сервис недоступен, техническое обслуживание, повторите запрос позже

Время жизни токена в случае бездействия пользователя - 10 минут. В ответ пользователь получает json пакет с HTTP кодом.

API для работы с платформой **EDIN 2.0**. Запросы методов направляются на адрес ​ https://edo-v2.edi-n.com . Передаваемые в cURL-запросе параметры являются обязательными, если не указано обратное (их опциональность).

-  Обмен данными происходит посредством запросов на сервер (в дальнейшем "API")
-  Обмен данными происходит в формате JSON
-  Возврат данных происходит в формате JSON
-  Передача изображений, печатных форм, неструкт. документов и подписей реализована в формате строки BASE64

--------------

Проверки
========

Проверка активности сервера:

.. code:: ruby

    curl -X GET 'https://edo-v2.edi-n.com/ping'

Проверка активности сессии:

.. code:: ruby

    curl -X GET 'https://edo-v2.edi-n.com/api/auth_check' -b 'SID=65daca25-74ba-4c85-8183-71b404a348c0;'

--------------

**Авторизация**
===============
После подключения услуги, вы получите логин, пароль и api_key для авторизации.
Авторизация API происходит посредством передачи ключевых параметров при запросе данных методом HTTP POST:

- email - строка; логин пользователя;
- password - строка, пароль пользователя на платформе EDIN 2.0
- api_key - строка, пароль доступа к API

После авторизации происходит передача уникального cookie токена “SID”. HTTP-заголовок ответа Set-Cookie используется для отправки файлов cookie с сервера пользовательскому агенту.
В запросе должен присутствовать HTTP-заголовок "SID" с необходимыми данными. 

У современных популярных браузеров и Rest клиентов происходит автоматическое сохранение и передача токена на сервер во время сессии, однако при использовании некоторых интеграционных решений, самописных REST-клиентов этот обязательный параметр может не передаваться - его необходимо принудительно передавать в заголовке (Header) "Set-Cookie".  
После авторизации время жизни сессии при бездействии пользователя составляет 10 минут.



+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **Метод запроса** |                                                                 HTTP POST                                                                  |                                                                  |
+===================+============================================================================================================================================+==================================================================+
| **Content-Type**  | application/json                                                                                                                           | тело запроса/ответа в json формате                               |
+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+
| **cURL запроса**  | curl -X POST 'https://edo-v2.edi-n.com/api/oas/authorization' -d 'email=uaEDSsender&password=111&api_key=66B4814DEC28B4CA17DE56338A52D7DB' | **email** - строка; логин пользователя;                          |
|                   |                                                                                                                                            |                                                                  |
|                   |                                                                                                                                            | **password** - строка, пароль пользователя на платформе EDIN 2.0 |
|                   |                                                                                                                                            |                                                                  |
|                   |                                                                                                                                            | **api_key** - строка, пароль доступа к API                       |
+-------------------+--------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------+


**Пример ответа:**

При успешной авторизации получаем в ответ "токен" ( ``'SID=65daca25-74ba-4c85-8183-71b404a348c0;'`` ) для дальнейшей работы:

**Пример ответа:**

.. code:: ruby

     SID=1d5d74a7-fbab-46ea-b5ec-d770e745a6df

--------------

**Получение информации по авторизированному пользователю**
==========================================================
После запроса, в json теле ответа поступит информация о аккаунте, к которому привязан ранее авторизовавшийся пользователь.
В ответ поступает такая информация, как ID пользователя, ID аккаунта, логин, имеет ли пользователь "права администратора" (true/false), данные о платформе и другие идентификаторы.


+-------------------+----------------------------------------------------------------------------------------------------+--------------------------------------------+
| **Метод запроса** |                                              HTTP GET                                              |                                            |
+===================+====================================================================================================+============================================+
| **Content-Type**  | application/json                                                                                   | тело запроса/ответа в json формате         |
+-------------------+----------------------------------------------------------------------------------------------------+--------------------------------------------+
| **cURL запроса**  | curl -X GET 'https://edo-v2.edi-n.com/api/oas/user' -b 'SID=65daca25-74ba-4c85-8183-71b404a348c0;' | **SID** - токен полученный при авторизации |
+-------------------+----------------------------------------------------------------------------------------------------+--------------------------------------------+

**Пример ответа:**

.. code:: ruby

    {"id":5020571,"accountId":29824,"login":"uaEDSsender","stringEmails":"test@qw.we","emails":["test@qw.we"],"blocked":0,"allowFTP":1,"autoSending":true,"statusFile":1,"isAdmin":false,"account":{"platform":"EVO","id":29824,"name":"Test_EDS1","ownership":"#","inn":"1010101010","kpp":"100000001","mail":"test@qw.we","phone":"12345678901","ndsNumber":"#","bankAccount":"#","bankName":"#","bankMfo":"#","bankAddress":"#","identificators":[],"companies":[],"users":[]},"identificators":[{"guid":{},"manager":"#","id":133187,"gln":"9864065702429","companyId":29824,"retailerId":0,"name":"EDS_1","companyType":"jur","companyInn":"1010101010","companyKpp":"90000031","zip":"112233","city":"г. Львов","street":"ул. Хмурится, 6","phone":"#","otherInfo":"[]","account":{"platform":"EVO","id":29824,"name":"Test_EDS1","ownership":"#","inn":"1010101010","kpp":"100000001","mail":"test@qw.we","phone":"12345678901","ndsNumber":"#","bankAccount":"#","bankName":"#","bankMfo":"#","bankAddress":"#","identificators":[],"companies":[],"users":[]}}]}

--------------

**Получение информации по GLN номерам, связанным с авторизированным пользователем (на уровне аккаунта)**
========================================================================================================

+-------------------+------------------------------------------------------------------------------------------------------------------+--------------------------------------------+
| **Метод запроса** |                                                     HTTP GET                                                     |                                            |
+===================+==================================================================================================================+============================================+
| **Content-Type**  | application/json                                                                                                 | тело запроса/ответа в json формате         |
+-------------------+------------------------------------------------------------------------------------------------------------------+--------------------------------------------+
| **cURL запроса**  | curl -X GET 'https://edo-v2.edi-n.com/api/oas/account/identifiers' -b 'SID=458a0d38-5b56-4b8e-8998-009a1edd31eb' | **SID** - токен полученный при авторизации |
+-------------------+------------------------------------------------------------------------------------------------------------------+--------------------------------------------+

**Пример ответа:**

.. code:: ruby

    пример отсутствует

--------------



**Получение информации об организации по Названию/ИНН/КПП/GLN**
===============================================================

+-------------------+----------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **Метод запроса** |                                                                HTTP GET                                                                |                                                                                                                                                                            |
+===================+========================================================================================================================================+============================================================================================================================================================================+
| **Content-Type**  | application/json                                                                                                                       | тело запроса/ответа в json формате                                                                                                                                         |
+-------------------+----------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **cURL запроса**  | curl -X GET 'https://edo-v2.edi-n.com/api/oas/identifiers?gln=9864065702429&query=EDS_1' -b 'SID=458a0d38-5b56-4b8e-8998-009a1edd31eb' | **gln** - строка(13); номер GLN организации, которая связана с авторизированным пользователем платформы EDIN 2.0 на уровне аккаунта; "от которого осуществляется действие" |
|                   |                                                                                                                                        |                                                                                                                                                                            |
|                   |                                                                                                                                        | **query** - строка; название/ИНН/КПП/GLN организации; "над которым осуществляется действие"                                                                                |
|                   |                                                                                                                                        |                                                                                                                                                                            |
|                   |                                                                                                                                        | **SID** - токен полученный при авторизации                                                                                                                                 |
+-------------------+----------------------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

**Пример ответа:**

.. code:: ruby

    [
    {
        "guid": {},
        "manager": "#",
        "id": 133187,
        "gln": "9864065702429",
        "companyId": 29824,
        "retailerId": 0,
        "name": "EDS_1",
        "companyType": "jur",
        "companyInn": "1010101010",
        "companyKpp": "90000031",
        "zip": "112233",
        "city": "г. Львов",
        "street": "ул. Хмурится, 6",
        "phone": "#",
        "otherInfo": "[]",
        "account": {
            "platform": "EVO",
            "id": 29824,
            "name": "Test_EDS1",
            "ownership": "#",
            "inn": "1010101010",
            "kpp": "100000001",
            "mail": "test@qw.we",
            "phone": "12345678901",
            "ndsNumber": "#",
            "bankAccount": "#",
            "bankName": "#",
            "bankMfo": "#",
            "bankAddress": "#",
            "identificators": [],
            "companies": [],
            "users": []
        }
    }
]

--------------

**Получение списка доступных единиц измерения**
===============================================

+-------------------+----------------------------------------------------------------------------------------------------+--------------------------------------------+
| **Метод запроса** |                                              HTTP GET                                              |                                            |
+===================+====================================================================================================+============================================+
| **Content-Type**  | application/json                                                                                   | тело запроса/ответа в json формате         |
+-------------------+----------------------------------------------------------------------------------------------------+--------------------------------------------+
| **cURL запроса**  | curl -X GET 'https://edo-v2.edi-n.com/api/oas/units' -b 'SID=458a0d38-5b56-4b8e-8998-009a1edd31eb' | **SID** - токен полученный при авторизации |
+-------------------+----------------------------------------------------------------------------------------------------+--------------------------------------------+

**Пример ответа:**

.. code:: ruby

    [{"id":1,"name":"GRM","nameOKEI":"Грамм","shortNameOKEI":"г","OKEI":"163","KSPOVO":"0303"},{"id":2,"name":"KGM","nameOKEI":"Килограмм","shortNameOKEI":"кг","OKEI":"166","KSPOVO":"0301"},{"id":3,"name":"LTR","nameOKEI":"Литр","shortNameOKEI":"л","OKEI":"112","KSPOVO":"0138"},{"id":4,"name":"MTR","nameOKEI":"Метр","shortNameOKEI":"м","OKEI":"006","KSPOVO":"0101"},{"id":5,"name":"MMT","nameOKEI":"Миллиметр","shortNameOKEI":"мм","OKEI":"003","KSPOVO":"0105"},{"id":6,"name":"MTK","nameOKEI":"Квадратный метр","shortNameOKEI":"м2","OKEI":"055","KSPOVO":"0123"},{"id":7,"name":"MTQ","nameOKEI":"Кубический метр","shortNameOKEI":"м3","OKEI":"113","KSPOVO":"0134"},{"id":8,"name":"PCE","nameOKEI":"Штука","shortNameOKEI":"шт","OKEI":"796","KSPOVO":"2009"},{"id":9,"name":"CT","nameOKEI":"Коробка","shortNameOKEI":"кор","OKEI":"8751","KSPOVO":"2052"},{"id":10,"name":"BH","KSPOVO":"2112"},{"id":11,"name":"PF"},{"id":12,"name":"PK","nameOKEI":"Упаковка","shortNameOKEI":"упак","OKEI":"778","KSPOVO":"2110"},{"id":13,"name":"PTN"},{"id":14,"name":"MIL","nameOKEI":"Тысяча штук","shortNameOKEI":"тыс. шт; 1000 шт","OKEI":"798"},{"id":15,"name":"GB","nameOKEI":"Бутылка","shortNameOKEI":"бут","OKEI":"868","KSPOVO":"2061"},{"id":16,"name":"RO","nameOKEI":"Рулон","shortNameOKEI":"рул","OKEI":"736","KSPOVO":"2116"},{"id":17,"name":"SVC"},{"id":20,"name":"CMT","nameOKEI":"Сантиметр","shortNameOKEI":"см"},{"id":21,"name":"CRC","KSPOVO":"2454"},{"id":23,"name":"BOX","KSPOVO":"2075"},{"id":25,"name":"NPR","nameOKEI":"Пара","shortNameOKEI":"пар","OKEI":"715","KSPOVO":"1617"},{"id":31,"name":"hr","OKEI":" ","KSPOVO":"0175"},{"id":33,"name":"LM","KSPOVO":"2702"},{"id":35,"name":"SET","nameOKEI":"Комплект","shortNameOKEI":"компл","KSPOVO":"2938"},{"id":37,"name":"TNE","nameOKEI":"Метрическая тонна","shortNameOKEI":"т","OKEI":"168","KSPOVO":"0306"},{"id":38,"name":"BLK","nameOKEI":"Блок","shortNameOKEI":"бл","KSPOVO":"2907"},{"id":39,"name":"KT","nameOKEI":"Набор","shortNameOKEI":"набор","OKEI":"704","KSPOVO":"2123"},{"id":41,"name":"NMP","nameOKEI":"Паковання","shortNameOKEI":"паков","KSPOVO":"2102"},{"id":43,"name":"JR","nameOKEI":"Банка","shortNameOKEI":"банк","KSPOVO":"2039"},{"id":45,"name":"OD","nameOKEI":"Единица (продукции)","shortNameOKEI":"од","KSPOVO":"2431"}]

--------------

**Получение списка всех розничных сетей**
=========================================

+-------------------+-----------------------------------------------------------------------------------------------------------+--------------------------------------------+
| **Метод запроса** |                                                 HTTP GET                                                  |                                            |
+===================+===========================================================================================================+============================================+
| **Content-Type**  | application/json                                                                                          | тело запроса/ответа в json формате         |
+-------------------+-----------------------------------------------------------------------------------------------------------+--------------------------------------------+
| **cURL запроса**  | curl -X GET 'https://edo-v2.edi-n.com/api/oas/allretailers' -b 'SID=458a0d38-5b56-4b8e-8998-009a1edd31eb' | **SID** - токен полученный при авторизации |
+-------------------+-----------------------------------------------------------------------------------------------------------+--------------------------------------------+

**Пример ответа:**

.. code:: ruby

    [{"id":7,"name":"Варус (ОМЕГА)","gln":"4820110632160","aliasName":"Варус(ОМЕГА))","type":1},{"id":8,"name":"Старый Колос","gln":"4829900003845","aliasName":"Олд_Колос","type":1},{"id":9,"name":"АТБ-маркет","gln":"4820128010004","aliasName":"АТБ-маркет","type":1},{"id":10,"name":"ТАРГЕТ","gln":"4829900003982","aliasName":"ТАРГЕТ","type":1},{"id":11,"name":"Практікер Україна","gln":"4823060600005","aliasName":"Практікер Україна","type":1},{"id":13,"name":"Ашан","gln":"4824027999989","aliasName":"Ашан","type":1},{"id":14,"name":"Фозі","gln":"4824034000005","aliasName":"Фозі","type":1},{"id":15,"name":"Велика Кишеня","gln":"4823058700007","aliasName":"Велика_Кишеня","type":1},{"id":16,"name":"Білла","gln":"4824025000007","aliasName":"Білла","type":1},{"id":17,"name":"Метро","gln":"4820086630009","aliasName":"Метро","type":1},{"id":39,"name":"Край","gln":"4820104810017","aliasName":"Край","type":1},{"id":54,"name":"Мегамаркет","gln":"4829997777773","aliasName":"Мегамаркет","type":1},{"id":55,"name":"Ватсонс","gln":"4829900001605","aliasName":"Ватсонс","type":1},{"id":56,"name":"ЕпіцентрК (НЕАКТУАЛЬНО)","gln":"9991027012934","type":1},{"id":57,"name":"ПАККО Холдинг","gln":"4820117940008","aliasName":"ПАККО_Холдинг","type":1},{"id":62,"name":"Великий Віз","gln":"4827777777890","aliasName":"Великий_Віз","type":1},{"id":68,"name":"Амстор","gln":"4829900004378","type":1},{"id":89,"name":"Обжора","gln":"4829900004545","aliasName":"Обжора","type":1},{"id":110,"name":"Таврія В","gln":"4820069609978","aliasName":"Таврія_В","type":1},{"id":116,"name":"Ікс 5 Рітейл Груп Україна","gln":"4820110637707","type":1},{"id":139,"name":"Економ плюс","gln":"9997811808998","aliasName":"Економ_плюс","type":1},{"id":141,"name":"Фуршет","gln":"4820123560009","aliasName":"Фуршет","type":1},{"id":168,"name":"Український Рітейл","gln":"4820141820000","aliasName":"Український_Рітейл","type":1},{"id":181,"name":"Караван","gln":"4829900019099","aliasName":"Караван","type":1},{"id":187,"name":"Львівхолод","gln":"4820038509612","aliasName":"Львівхолод","type":1},{"id":190,"name":"WOG","gln":"4820156120003","aliasName":"ВОГ","type":1},{"id":191,"name":"Авантаж","gln":"9863521011709","aliasName":"Авантаж","type":1},{"id":193,"name":"Варус из EANCOM","gln":"7777777777772","aliasName":"Варус_из_інком","type":1},{"id":195,"name":"Восторг","gln":"9863521022934","aliasName":"Восторг","type":1},{"id":208,"name":"Дігма","gln":"9863528924811","aliasName":"Дігма","type":1},{"id":221,"name":"Опт-Маркет-Крим","gln":"9863521017862","aliasName":"Опт-Маркет-Крим","type":1},{"id":224,"name":"Оскар","gln":"4820152470041","aliasName":"Оскар","type":1},{"id":232,"name":"БУМСІТІ","gln":"9863528328688","aliasName":"БУМСІТІ","type":1},{"id":236,"name":"Маркет Плюс","gln":"9863521017886","aliasName":"Маркет_Плюс","type":1},{"id":239,"name":"Наш Край","gln":"4820139830004","aliasName":"Наш_Край","type":1},{"id":242,"name":"РЕАЛ","gln":"4820119460009","type":1},{"id":246,"name":"ЕКО-МАРКЕТ","gln":"4820129370008","aliasName":"ЕКО-МАРКЕТ","type":1},{"id":247,"name":"Нова Лінія","gln":"9863549335214","type":1},{"id":252,"name":"Новус Украина","gln":"9863577638028","aliasName":"Новус_Украина","type":1},{"id":253,"name":"Фора","gln":"9991027029000","aliasName":"Фора","type":1},{"id":258,"name":"МАРС","gln":"9863524740194","aliasName":"МАРС","type":1},{"id":261,"name":"Абсолют","gln":"9863532140931","aliasName":"Абсолют","type":1},{"id":273,"name":"РУШ (EVA)","gln":"9863527424664","aliasName":"РУШ(ЕВА)","type":1},{"id":275,"name":"Сільпо","gln":"9991027029468","aliasName":"Сільпо","type":1},{"id":276,"name":"БМТС","gln":"4820133420003","aliasName":"БМТС","type":1},{"id":278,"name":"Горпреса","gln":"9863564936762","aliasName":"Горпреса","type":1},{"id":280,"name":"Центральный Склад ПИИ Билла Украина","gln":"4824025200506","aliasName":"Центральний_Склад_ПИИ_Билла_Украина","type":1},{"id":15957,"name":"Спар","gln":"9863528050084","type":1},{"id":15965,"name":"Т-Киоск","gln":"9863574558169","aliasName":"Т-Киоск","type":1},{"id":15973,"name":"Волиньтабак","gln":"9863521017558","aliasName":"Волиньтабак","type":1},{"id":15978,"name":"Копійка","gln":"9991027042597","aliasName":"Копійка","type":1},{"id":15986,"name":"Поділля-Т","gln":"9863723072997","aliasName":"Поділля-Т","type":1},{"id":15988,"name":"Арда-Дон","gln":"9863773979277","aliasName":"Арда-Дон","type":1},{"id":16018,"name":"Бі-Маркет","gln":"9863750376815","aliasName":"Бі-Маркет","type":1},{"id":16030,"name":"Трейд Інвест","gln":"9868897110018","aliasName":"Трейд_Інвест","type":1},{"id":16034,"name":"СпрінтК","gln":"9863673268013","aliasName":"СпрінтК","type":1},{"id":16068,"name":"КОНТИНЕНТ-ТОРГ","gln":"9863937996942","aliasName":"КОНТИНЕНТ_ТОРГ","type":1},{"id":16072,"name":"Вересень плюс","gln":"9863569647762","aliasName":"Вересень_плюс","type":1},{"id":16074,"name":"Фарма Т","gln":"9868808210011","aliasName":"Фарма_Т","type":1},{"id":16076,"name":"ЛІЯ","gln":"4829900001308","aliasName":"ЛІЯ","type":1},{"id":16078,"name":"Колумб","gln":"9863658267048","aliasName":"Колумб","type":1},{"id":16082,"name":"Миг Трейд","gln":"9863678868577","aliasName":"Миг_Трейд","type":1},{"id":16091,"name":"АТБ-Магазины","gln":"4829900014377","aliasName":"АТБ-Магазины","type":1},{"id":16095,"name":"ОККО-Нафтопродукт","gln":"9864030010528","aliasName":"ОККО-Нафтопродукт","type":1},{"id":16163,"name":"Суматра","gln":"4820140450000","aliasName":"Суматра","type":1},{"id":16165,"name":"БНС Трейд","gln":"9863582256491","aliasName":"БНС_Трейд","type":1},{"id":16169,"name":"СВ","gln":"9863574558169","aliasName":"СВ","type":1},{"id":16171,"name":"ГаличинаТабак","gln":"9863859089050","aliasName":"ГаличинаТабак","type":1},{"id":16180,"name":"Симпатик","gln":"9864072114468","aliasName":"Симпатик","type":1},{"id":16186,"name":"Везунчик","gln":"9863683369021","aliasName":"Везунчик","type":1},{"id":16188,"name":"Бутирін","gln":"9864103514779","aliasName":"Бутирін","type":1},{"id":16192,"name":"Аргон (ГРОШ)","gln":"9864074214487","aliasName":"Аргон(ГРОШ)","type":1},{"id":16202,"name":"Агромарс","gln":"4820115460003","aliasName":"Агромарс","type":1},{"id":16208,"name":"Лукойл Україна(Амик)","gln":"9864066874477","aliasName":"Лукойл_Україна(Амик)","type":1},{"id":16210,"name":"Славтрейд браво","gln":"9864139311618","aliasName":"Славтрейд_браво","type":1},{"id":16214,"name":"Стейт Оил(БРСМ)","gln":"9991027042450","aliasName":"БРСМ","type":1},{"id":16216,"name":"Экспансия","gln":"9991027029390","aliasName":"Экспансия","type":1},{"id":16218,"name":"Обі Україна","gln":"4399902045512","aliasName":"Обі_Україна","type":1},{"id":16222,"name":"Український Рітейл (РЦ)","gln":"4820141820017","aliasName":"Український_Рітейл(РЦ)","type":1},{"id":16226,"name":"Торгова компанія \"Мегаполіс-Україна","gln":"4829900005672","aliasName":"Торгова_компанія_Мегаполіс-Україна","type":1},{"id":16229,"name":"AddAccount","gln":"9864066822454","type":1},{"id":16230,"name":"SHELL Украина","gln":"9864097615407","aliasName":"SHELL Украина","type":1},{"id":16232,"name":"Фудторг","gln":"4820105390006","aliasName":"Фудторг","type":1},{"id":16239,"name":"testMHNet","gln":"9864067118839","type":1},{"id":16244,"name":"Розничная сеть тест","gln":"9862054926184","type":1},{"id":16245,"name":"testName11","gln":"9864067115661","type":1},{"id":16248,"name":"Паралель-М ЛТД","gln":"9864066800872","aliasName":"ТОВ_Паралель-М_ЛТД","type":1},{"id":16250,"name":"Альянс Маркет","gln":"9864229616241","aliasName":"Альянс_Маркет","type":1},{"id":16251,"name":"test002","gln":"1111111111239","type":1},{"id":16253,"name":"DOCFLOW","gln":"1111111111239","type":2},{"id":16257,"name":"Test new form","gln":"4820086630009","aliasName":"ТЕст Украина","type":1},{"id":16260,"name":"Аптеки 911","gln":"9864066891962","aliasName":"Аптеки_911","type":1},{"id":16267,"name":"для задач","gln":"987","type":2},{"id":16274,"name":"Маркет Сервіс","gln":"9864076315083","aliasName":"Маркет_Сервіс","type":1},{"id":16294,"name":"ПрАТ \"Філіп Морріс Україна\"","gln":"4823003200002","aliasName":"ПрАТ_Філіп_Морріс_Україна","type":1},{"id":16296,"name":"ПАТ \"Джей Ті Інтернешнл Україна\"","gln":"4820000530002","aliasName":"ПАТ_Джей_Ті_Інтернешнл_Україна","type":1},{"id":16300,"name":"Samsung_Prod","gln":"9864131911540","type":1},{"id":16302,"name":"HP works with MTI","gln":"9863553952667","type":1},{"id":16306,"name":"TRUFFAUT","gln":"3020410000107","aliasName":"ТРУФАУТ","type":1},{"id":16312,"name":"ТОВ \"ІБК\"","gln":"9864066811144","aliasName":"ТОВ_ІБК","type":1},{"id":16318,"name":"Барвінок","gln":"9864282917101","aliasName":"Барвінок","type":1},{"id":16322,"name":"Идеал","gln":"9863931796326","aliasName":"Идеал","type":1},{"id":16340,"name":"Амстор аренда","gln":"9864066821594","type":1},{"id":16344,"name":"Салют","gln":"9991027079500","aliasName":"Салют","type":1},{"id":16362,"name":"КОЛОС","gln":"9864066826094","aliasName":"КОЛОС","type":1},{"id":16368,"name":"В.А.Т.- ПРИЛУКИ","gln":"4820001980004","aliasName":"ВАТ-ПРИЛУКИ","type":1},{"id":16382,"name":"Стиль Тревел","gln":"9864066829606","aliasName":"Стиль_Тревел","type":1},{"id":16390,"name":"ЖМЗ (произв)","gln":"4820015160003","aliasName":"ЖМЗ(произв)","type":1},{"id":16392,"name":"Фокстрот","gln":"9864066833351","aliasName":"фокстрот","type":1},{"id":16396,"name":"СТЕЙТ ОІЛ","gln":"9991027057898","aliasName":"СТЕЙТ_ОІЛ","type":1},{"id":16404,"name":"ECCO - EDITEL","gln":"5790000017089","aliasName":"ЕКО-ЕДІТЕЛ","type":1},{"id":16426,"name":"ТОВ «Перша Українська Сервісна Компанія»","gln":"9864066841691","type":1},{"id":16428,"name":"МДМТОРГ","gln":"9864066842230","type":1},{"id":16434,"name":"ПремиумТорг","gln":"9864066840038","type":1},{"id":16438,"name":"EXITE ( не актуально )","gln":"9864066847150","type":1},{"id":16450,"name":"Ельдорадо","gln":"9864066839391","type":1},{"id":16468,"name":"Будман","gln":"9864066852314","type":1},{"id":16506,"name":"Е-КОМ","gln":"4829900000226","type":1},{"id":16508,"name":"Класс","gln":"9864066862047","aliasName":"Класс","type":1},{"id":16528,"name":"ТЕСТ","gln":"9863774679343","type":1},{"id":16530,"name":"тест","gln":"123","type":1},{"id":16532,"name":"ЕпіцентрК","gln":"9864066866014","aliasName":"Епіцентр","type":1},{"id":16534,"name":"Овація","gln":"9864066871162","aliasName":"Овація","type":1},{"id":16544,"name":"Империал Тобакко Юкрейн","gln":"9864066814824","type":1},{"id":16548,"name":"Союз друк","gln":"9864066864454","type":1},{"id":16558,"name":"Опросник ЭВО","gln":"1111111111111","type":1},{"id":16568,"name":"Точка","gln":"9864066864775","aliasName":"Точка","type":1},{"id":16574,"name":"PUMPIK (ТОВ \"Групп Гудз\")","gln":"9864066874774","type":1},{"id":16576,"name":"Етана -Південь","gln":"9863942197365","type":1},{"id":16578,"name":"Мегаполис Украина","gln":"9863521739962","type":1},{"id":16584,"name":"Спецификация_Новус","gln":"11111","type":1},{"id":16596,"name":"Клевер Сторс","gln":"9864066880652","aliasName":"Сім-23","type":1},{"id":16604,"name":"ТОВ «КООП ТОРГ СЕРВІС»","gln":"9864066882113","type":1},{"id":16626,"name":"ТД \"Аванта\"","gln":"9863521013499","aliasName":"ТД \"Аванта\"","type":1},{"id":16642,"name":"Союз Ритейл Д","gln":"9864066881307","type":1},{"id":16644,"name":"Салатейра","gln":"9864066888382","type":1},{"id":16646,"name":"СТИЛЬ Д (Простор)","gln":"9864066885718","type":1},{"id":16652,"name":"Аттика","gln":"9864066892075","aliasName":"Аттика","type":1},{"id":16654,"name":"ШИК І БЛИСК","gln":"9864066892099","type":1},{"id":16658,"name":"Манго-Груп","gln":"9864066895014","type":1},{"id":16666,"name":"Нафтаенерджі","gln":"9864066884285","aliasName":"Авіас","type":1},{"id":16668,"name":"Дівіал-2000","gln":"9864066896417","aliasName":"Дари Моря","type":1},{"id":16670,"name":"ТОВ \"ПТС ЮА СЕРВІСЕЗ\"","gln":"9864066888849","type":1},{"id":16678,"name":"ПТС ЮА СЕРВІСЕЗ","gln":"1","type":1},{"id":16696,"name":"Бель Шостка","gln":"4820007959998","type":1},{"id":16698,"name":"Good Wine","gln":"9864066876730","type":1},{"id":16700,"name":"E-DOC","gln":"9864066884247","type":1},{"id":16706,"name":"Sokar","gln":"9864066912926","aliasName":"SOKAR","type":1},{"id":16718,"name":"Лоток","gln":"4829900020996","aliasName":"Лоток","type":1},{"id":16728,"name":"Легион-2015(Пчелка Маркет)","gln":"9864066918782","aliasName":"Легион-2015","type":1},{"id":16744,"name":"Мережа Сервіс Львів","gln":"9864066923601","aliasName":"Близенько","type":1},{"id":16750,"name":"ТНК","gln":"9864066929061","type":1},{"id":16751,"name":"ВКЮЗД","gln":"1","type":1},{"id":16764,"name":"Хвиля","gln":"9864066938292","type":1},{"id":16776,"name":"ФІРМОВА МЕРЕЖА КИЇВХЛІБ","gln":"9864066981847","type":1},{"id":16784,"name":"Factorex","gln":"4568963257","type":1},{"id":16786,"name":"Signex","gln":"47523666666","type":1},{"id":16788,"name":"SLA","gln":"7777785214855","type":1},{"id":16790,"name":"Distribex","gln":"2255555558622","type":1},{"id":16802,"name":"ТОВ МАРКЕТ РІТЕЙЛ(БАРВА)","gln":"9864066952755","type":1},{"id":16814,"name":"Bomond","gln":"9864066955756","type":1},{"id":16818,"name":"Два шага","gln":"9864066959136","aliasName":"Два шага","type":1},{"id":16844,"name":"Пристопы","gln":"753753753753","type":1},{"id":16864,"name":"Полісся-Продукт","gln":"9864066969524","type":1},{"id":16866,"name":"Сертификаты","gln":"7788552233446","type":1},{"id":16868,"name":"Портал Поставщика","gln":"5555555999876","type":1},{"id":16870,"name":"Youcontrol","gln":"1111118888888","type":1},{"id":16872,"name":"Интеграция EDI","gln":"4444444444444","type":1},{"id":16874,"name":"ЭЦП","gln":"9999993333333","type":1},{"id":16876,"name":"Интеграция ЮЗД","gln":"5555599999777","type":1},{"id":16878,"name":"ТРАШ","gln":"9991027107296","aliasName":"ТРАШ","type":1},{"id":16880,"name":"Спецификация_Простор","gln":"5556664449997","type":1},{"id":16882,"name":"ЦУМ","gln":"9864066949809","type":1},{"id":16888,"name":"Спецификация_ШИК І БЛИСК","gln":"000000000009","type":1},{"id":16890,"name":"Новэкс","gln":"4610016809991","type":1},{"id":16894,"name":"ПЕРШИЙ УНІВЕРМАГ (ЦУМ)","gln":"9864066949809","type":1},{"id":16902,"name":"ГВЕДЕОН","gln":"9864066980512","type":1},{"id":16906,"name":"Сильпо-Фуд","gln":"11","type":1},{"id":16908,"name":"Київ-Захід","gln":"9864066981298","type":1},{"id":16926,"name":"Спецификация_Караван_Алкоголь","gln":"7539514863248","type":1},{"id":16928,"name":"Спецификация_Караван","gln":"8880003332221","type":1},{"id":16948,"name":"опросник Signex","gln":"777777777777","type":1},{"id":16950,"name":"Signex 2017","gln":"5757575757575","type":1},{"id":16954,"name":"Економ Трейд","gln":"9864066983131","type":1},{"id":16972,"name":"ОЛІМП-ТРЕЙД","gln":"9864066993901","type":1},{"id":16998,"name":"МІСТ ЕКСПРЕС","gln":"9864066852024","type":1},{"id":17040,"name":"Спецификация_Sokar","gln":"4567316753278","type":1},{"id":17042,"name":"Спецификация_Вересень+","gln":"2131323131313","type":1},{"id":17046,"name":"Fresh Food Market","gln":"9864232123125","type":1},{"id":17070,"name":"ТОВ Квартал 5","gln":"9864232139225","type":1},{"id":17072,"name":"АРІТЕЙЛ","gln":"9864232128281","type":1},{"id":17080,"name":"ФЛАГМАН СТОР","gln":"9864232140948","type":1},{"id":17084,"name":"Густомаркет","gln":"9864232141648","type":1},{"id":17088,"name":"ЛОТОС","gln":"9864232142140","type":1},{"id":17104,"name":"ФОРТУНА-ТЮТЮН","gln":"9863995010277","aliasName":"ФОРТУНА-ТЮТЮН","type":1},{"id":17154,"name":"Розетка.УА","gln":"4829900023799","type":1},{"id":17160,"name":"Воронка 1!","gln":"1!1!1!1!1!1!1","type":1},{"id":17164,"name":"ReportEx","gln":"#","type":1},{"id":17168,"name":"АКОРД-2017","gln":"9864232163244","type":1},{"id":17170,"name":"УЖГОРОД П.С.Ю.","gln":"9864232157687","type":1},{"id":17176,"name":"HORNBACH","gln":"4306517002084","type":1},{"id":17180,"name":"High Steaks","gln":"9864232165866","type":1},{"id":17194,"name":"ЧЕРНІГІВТОРГ","gln":"9864232169086","type":1},{"id":17206,"name":"Сушия","gln":"9864232154334","type":1},{"id":17244,"name":"ТС ПЛЮС","gln":"9864066958672","type":1},{"id":17260,"name":"ЛА ФАРИНА","gln":"9864232182979","type":1},{"id":17264,"name":"ЛЕРУА МЕРЛЕН","gln":"9864232186410","type":1},{"id":17272,"name":"Крамниця Добра-2","gln":"9864232199625","type":1},{"id":17278,"name":"Там Там","gln":"9991027092004","type":1},{"id":17280,"name":"Смак-Плюс","gln":"9864232200055","type":1},{"id":17284,"name":"Сеть для Фактора","gln":"1111111111116","type":1},{"id":17288,"name":"Tendex","gln":"#","type":1},{"id":17289,"name":"EDI","gln":"1234567898650","aliasName":"EDI","type":2},{"id":17291,"name":"OBMIN","gln":"1234567890123","aliasName":"OBMIN","type":2},{"id":17293,"name":"E-SIGN","gln":"1234567890123","aliasName":"E-SIGN","type":2},{"id":17295,"name":"FTP","gln":"1234567890123","aliasName":"FTP","type":2},{"id":17297,"name":"Интеграция","gln":"1234567890123","aliasName":"Интеграция","type":2}]

--------------

**Получение списка розничных сетей, которые связаны с заданным GLN**
====================================================================

+-------------------+--------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------+
| **Метод запроса** |                                                         HTTP GET                                                         |                                                                                                                                     |
+===================+==========================================================================================================================+=====================================================================================================================================+
| **Content-Type**  | application/json                                                                                                         | тело запроса/ответа в json формате                                                                                                  |
+-------------------+--------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------+
| **cURL запроса**  | curl -X GET 'https://edo-v2.edi-n.com/api/oas/retailers?gln=9864065702429' -b 'SID=458a0d38-5b56-4b8e-8998-009a1edd31eb' | **SID** - токен полученный при авторизации                                                                                          |
|                   |                                                                                                                          |                                                                                                                                     |
|                   |                                                                                                                          | **gln** - строка(13); номер GLN организации, которая связана с авторизированным пользователем платформы EDIN 2.0 на уровне аккаунта |
+-------------------+--------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------+

**Пример ответа:**

.. code:: ruby

    [{"id":9,"name":"АТБ-маркет","gln":"4820128010004","aliasName":"АТБ-маркет","type":1},{"id":17,"name":"Метро","gln":"4820086630009","aliasName":"Метро","type":1},{"id":39,"name":"Край","gln":"4820104810017","aliasName":"Край","type":1},{"id":55,"name":"Ватсонс","gln":"4829900001605","aliasName":"Ватсонс","type":1},{"id":56,"name":"ЕпіцентрК (НЕАКТУАЛЬНО)","gln":"9991027012934","type":1}]

--------------

**Получение списка GLN номеров, которые связаны с заданной розничной сетью**
============================================================================

+-------------------+-------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------+
| **Метод запроса** |                                                              HTTP GET                                                               |                                                                               |
+===================+=====================================================================================================================================+===============================================================================+
| **Content-Type**  | application/json                                                                                                                    | тело запроса/ответа в json формате                                            |
+-------------------+-------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------+
| **cURL запроса**  | curl -X GET 'https://edo-v2.edi-n.com/api/oas/retailer/identificators?retailer_id=11' -b 'SID=458a0d38-5b56-4b8e-8998-009a1edd31eb' | **SID** - токен полученный при авторизации                                    |
|                   |                                                                                                                                     |                                                                               |
|                   |                                                                                                                                     | **retailer_id** - число; идентификатор розничной сети (из предыдущих методов) |
+-------------------+-------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------+



**Пример ответа:**

.. code:: ruby

    [{"guid":{},"id":82208,"gln":"5790000017089","companyId":19,"retailerId":16404,"name":"ECCO - EDITEL","companyInn":"№","companyKpp":"№","city":"№","street":"№","account":{"platform":"EVO","id":19,"name":"eXite-Ukraine","ownership":"ФОП","inn":"-","kpp":"#","mail":"DikhtyarZ@exite-edi.com","phone":"1111111111","ndsNumber":"#","bankAccount":"#","bankName":"#","bankMfo":"#","bankAddress":"#","identificators":[],"companies":[],"users":[]}},{"guid":{},"manager":"#","id":126701,"gln":"5790000833054","companyId":19,"retailerId":16404,"name":"ECCO - EDITEL SUPPLIER","companyInn":"#","companyKpp":"#","zip":"#","city":"#","street":"#","phone":"#","account":{"platform":"EVO","id":19,"name":"eXite-Ukraine","ownership":"ФОП","inn":"-","kpp":"#","mail":"DikhtyarZ@exite-edi.com","phone":"1111111111","ndsNumber":"#","bankAccount":"#","bankName":"#","bankMfo":"#","bankAddress":"#","identificators":[],"companies":[],"users":[]}}]

--------------
13
