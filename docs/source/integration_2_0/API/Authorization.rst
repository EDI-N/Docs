##############
Авторизация
##############

После подключения услуги для работы с API, пользователь получает логин, пароль и api_key для авторизации.
Авторизация API происходит посредством передачи этих ключевых параметров в HTTP POST запросе:

- email - строка; логин пользователя;
- password - строка, пароль пользователя на платформе EDIN 2.0
- api_key - строка, пароль доступа к API

После авторизации происходит передача уникального cookie токена “SID”. HTTP-заголовок ответа "Set-Cookie" используется для отправки файлов cookie с сервера пользовательскому агенту.
В каждом последующем запросе (вызове метода) должен присутствовать HTTP-заголовок (Header), который для корректного выполнения запросов обязан содержать токен "SID" с значением полученным при авторизации. 

У современных популярных браузеров и Rest клиентов происходит автоматическое сохранение и передача токена на сервер во время сессии, однако при использовании некоторых интеграционных решений, самописных REST-клиентов этот обязательный параметр может не передаваться - его необходимо принудительно передавать в заголовке (Header) "Set-Cookie".  
После авторизации время жизни сессии при бездействии пользователя составляет 10 минут.

+-------------------------------------------------------------+--------------------------------------------------------------------------+
|                      **Метод запроса**                      |                                HTTP POST                                 |
+=============================================================+==========================================================================+
| **Content-Type**                                            | application/json (тело запроса/ответа в json формате в теле HTTP запроса |
+-------------------------------------------------------------+--------------------------------------------------------------------------+
| **URL запроса**                                             | https://edo-v2.edi-n.com/api/oas/authorization                           |
+-------------------------------------------------------------+--------------------------------------------------------------------------+
| **Параметры, передаваемые в URL (вместе с адресом метода)** | Обязательные параметры:                                                  |
|                                                             |                                                                          |
|                                                             | **email** - строка; логин пользователя;                                  |
|                                                             |                                                                          |
|                                                             | **password** - строка, пароль пользователя на платформе EDIN 2.0         |
|                                                             |                                                                          |
|                                                             | **api_key** - строка, пароль доступа к API                               |
+-------------------------------------------------------------+--------------------------------------------------------------------------+

При авторизации json-тело **запроса** отсутствует (другие данные передавать не нужно).
При успешной авторизации получаем в ответ "токен" (например, ``'SID=65daca25-74ba-4c85-8183-71b404a348c0'`` ), необходимый для дальнейшей работы.

--------------

.. hint:: Также возможно выполнить запрос в виде curl-строки:
    
    curl -X POST 'https://edo-v2.edi-n.com/api/oas/authorization' -d 'email=uaEDSsender&password=111&api_key=66B4814DEC28B4CA17DE56338A52D7DB'

Спецификация для расшифровки ключей curl запроса: https://curl.haxx.se/docs/manpage.html

--------------

Проверки
==========

Доступны методы для проверки активности сессии и сервера:

**Проверка активности сервера (метод не требует прохождение авторизации):**

+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------+
|                      **Метод запроса**                      |                                                  HTTP GET                                                  |
+=============================================================+============================================================================================================+
| **URL запроса**                                             | https://edo-v2.edi-n.com/ping                                                                              |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------+

.. hint:: Также возможно выполнить запрос в виде curl-строки:
    curl -X GET 'https://edo-v2.edi-n.com/ping'

**Проверка активности сессии:**

+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------+
|                      **Метод запроса**                      |                                                  HTTP GET                                                  |
+=============================================================+============================================================================================================+
| **URL запроса**                                             | https://edo-v2.edi-n.com/api/auth_check                                                                    |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------+
| **Параметры, передаваемые в URL (вместе с адресом метода)** | В строке заголовка (Header) "Set-Cookie" обязательно передается **SID** - токен полученный при авторизации |
+-------------------------------------------------------------+------------------------------------------------------------------------------------------------------------+

.. hint:: Также возможно выполнить запрос в виде curl-строки:
    curl -X GET 'https://edo-v2.edi-n.com/api/auth_check' -b 'SID=65daca25-74ba-4c85-8183-71b404a348c0;'




